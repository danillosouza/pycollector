# File: conf.yaml
# Description: This file is read by pycollector to
#              configure readers/writers.
#              This file is supposed to be divided
#              in two sections: specs, conf
#
# specs: map names to specific configurations
#        Everything defined inside a spec is replaced where
#        it is being used (see conf section).
#
# conf:  List of pairs (reader, writer)
#        Since it is natural to have same specifications for readers/writers
#        it is encouraged to use specs.
#
#        A reader/writer must have a type.
#        A reader/writer may present an interval (in seconds) property.
#        If a writer has a key 'async' it will be called whenever a
#        message is read.
#
#


specs:
  #mysql example
  lognitdb:
    type: db 
    database: lognit 
    host: localhost
    user: root
    passwd: '' 
    connection: 'mysql+mysqldb://%s:%s@%s/%s' 

  #sqlserver example
  webradardb:
    type: db
    database: master
    host: localhost\\sqlexpress
    user: ''
    passwd: ''
    connection: 'mssql+pyodbc://%s:%s@%s/%s'

  activemq:
    type: activemq
    host: localhost
    port: 61613
    destination: '/queue/events'
    async: True

  log:
    type: log
    delimiter: '\t' 
    columns : [col1, col2]

  gtalkbot:
    type: gtalk
    login: montypythonfoo
    passwd: m0ntypyth0nf00
    destiny: raios.catodicos@gmail.com

conf:
#- reader:
#    queue_maxsize: 10
#    spec: lognitdb
#    interval: 5
#    query: select display_name, email from web_user
#    columns: [display_name, email]
#  writer: 
#    spec: activemq
#
#- reader:
#    queue_maxsize: 10
#    spec: log
#    log_path: '/tmp/test.log'
#  writer:
#    spec: activemq
#    blockable: True
#    retry_interval: 5

- reader:
    type: log
    log_path: '/tmp/test.log'
  writer:
    spec: gtalkbot
    async: True
